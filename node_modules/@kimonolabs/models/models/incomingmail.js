'use strict';

var mongoose = require('mongoose');
var Schema = mongoose.Schema;

module.exports = function(db) {
  var IncomingMailSchema = new Schema({
    uuid: String,
    userref: {type: Schema.Types.ObjectId, ref: 'User' },
    apiref: {type: Schema.Types.ObjectId, ref: 'Api' },
    apiid: String,
    html: String,
    toemail: Array,
    fromemail: Array,
    ccemail: Array,
    date: Date
  });

  db.model('IncomingMail', IncomingMailSchema);
  return db.model('IncomingMail');
};